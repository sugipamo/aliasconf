# PyPI初回リリース実施計画

## 作成日時
2025-07-04 00:03

## 概要
AliasConfライブラリのPyPIへの初回リリース（v0.1.0）を実施します。
すべてのコード品質問題が解決され、テストも全て成功している状態から、本番環境へのデプロイを行います。

## 前提条件
- ✅ 全218件のテストが成功
- ✅ カバレッジ84.81%（目標80%超過）
- ✅ Blackフォーマット適用完了
- ✅ types-pyyaml依存関係追加完了
- ✅ GitHubリポジトリ公開済み（https://github.com/sugipamo/aliasconf）
- ✅ GitHub Actions CI/CD設定完了

## 実施手順

### 1. PyPIアカウント準備
- [ ] PyPIアカウント作成（まだない場合）
- [ ] 2要素認証の設定
- [ ] APIトークンの生成
- [ ] Test PyPIアカウントも同様に準備（テスト用）

### 2. GitHub Secretsの設定
- [ ] PyPI APIトークンをGitHub Secretsに追加
  - Secret名: `PYPI_API_TOKEN`
- [ ] Test PyPI APIトークンも追加（オプション）
  - Secret名: `TEST_PYPI_API_TOKEN`

### 3. バージョン確認と最終チェック
- [ ] `pyproject.toml`のバージョンが`0.1.0`であることを確認
- [ ] CHANGELOGの更新内容確認
- [ ] README.mdの内容最終確認
- [ ] ローカルでのビルド確認
  ```bash
  python -m build
  ```

### 4. Test PyPIでの動作確認（推奨）
- [ ] Test PyPIへのアップロード
  ```bash
  python -m twine upload --repository testpypi dist/*
  ```
- [ ] Test PyPIからのインストール確認
  ```bash
  pip install -i https://test.pypi.org/simple/ aliasconf
  ```
- [ ] 基本的な動作確認

### 5. 本番PyPIへのリリース
- [ ] GitHubでv0.1.0タグの作成
  ```bash
  git tag v0.1.0
  git push origin v0.1.0
  ```
- [ ] GitHub Actionsのリリースワークフロー実行確認
- [ ] PyPIでのパッケージ公開確認

### 6. リリース後の確認
- [ ] PyPIからのインストール確認
  ```bash
  pip install aliasconf
  ```
- [ ] 基本的な使用例の動作確認
- [ ] PyPIページの表示確認
- [ ] GitHubリリースページの作成

### 7. ドキュメント更新
- [ ] インストール方法の更新（README.md）
- [ ] PyPIバッジの追加
- [ ] リリースアナウンスの準備

## 想定される問題と対処法

### 1. パッケージ名の重複
- 対処: 別名を検討（aliasconf-py、py-aliasconf等）

### 2. ビルドエラー
- 対処: `python -m build`でローカル確認
- hatchlingの設定確認

### 3. アップロードエラー
- 対処: APIトークンの権限確認
- twineのバージョン確認

### 4. メタデータエラー
- 対処: pyproject.tomlの検証
- 必須フィールドの確認

## 成功基準
- PyPIでaliasconfパッケージが公開される
- `pip install aliasconf`でインストール可能
- 基本的な使用例が正常に動作
- GitHub Actionsでの自動リリースが成功

## タイムライン
- 準備作業: 30分
- Test PyPI確認: 20分
- 本番リリース: 10分
- 動作確認: 20分
- ドキュメント更新: 20分

合計所要時間: 約1時間40分

## 参考リンク
- [PyPI公式ドキュメント](https://pypi.org/help/)
- [Python Packaging User Guide](https://packaging.python.org/)
- [GitHub Actions PyPI公開](https://github.com/marketplace/actions/pypi-publish)