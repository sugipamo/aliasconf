# PyPI初回リリース実施計画

**作成日**: 2025年7月4日 22:23  
**優先度**: 最高  
**目標**: AliasConfライブラリをPyPIに初回公開し、pip install aliasconfでインストール可能にする

## 背景と目的

AliasConfプロジェクトは基本機能の実装が完了し、テストカバレッジ85%を達成、CI/CDパイプラインも整備されました。次のステップとして、PyPIへの初回リリースを実施し、ユーザーが簡単にインストールして使用できるようにします。

## 現在の状況

- ✅ バージョン0.1.1にアップデート済み
- ✅ release.ymlワークフロー作成済み
- ✅ pyproject.tomlの設定完了
- ✅ CI/CDパイプライン正常動作中
- ⚠️ PyPIアカウント未作成
- ⚠️ GitHub Secretsへのトークン未登録

## 実施手順

### 0. 事前確認（完了）

✅ **完了項目**:
- パッケージ名「aliasconf」がPyPIで利用可能であることを確認
- pyproject.tomlのバージョンが0.1.1に更新済み
- release.ymlワークフローが適切に設定済み
- README.mdが充実した内容で準備完了

## 実施手順

### 1. PyPIアカウント作成とトークン取得

1. **PyPIアカウント作成**
   - https://pypi.org/account/register/ でアカウント作成
   - メールアドレス確認を完了
   - 2要素認証（2FA）を設定（推奨）

2. **APIトークン取得**
   - PyPIアカウントにログイン
   - Account settings → API tokens
   - "Add API token"をクリック
   - Token name: "aliasconf-github-actions"
   - Scope: "Entire account"（初回のため）
   - トークンをコピー（一度しか表示されない）

### 2. GitHub Secretsへの登録

1. **リポジトリ設定**
   - https://github.com/sugipamo/aliasconf/settings/secrets/actions
   - "New repository secret"をクリック

2. **シークレット追加**
   - Name: `PYPI_API_TOKEN`
   - Value: PyPIで取得したトークン（pypi-で始まる文字列）
   - "Add secret"をクリック

### 3. テストPyPIでの動作確認（オプション）

1. **TestPyPIアカウント作成**
   - https://test.pypi.org/account/register/
   - 本番PyPIとは別のアカウント

2. **テスト用トークン取得**
   - TestPyPIでAPIトークンを作成
   - GitHub Secretsに`TEST_PYPI_API_TOKEN`として登録

3. **テストリリース**
   ```bash
   # ローカルでビルド
   python -m build
   
   # TestPyPIにアップロード
   python -m twine upload --repository testpypi dist/*
   ```

### 4. 本番PyPIへのリリース

1. **リリースタグの作成**
   ```bash
   git tag -a v0.1.1 -m "Initial release of AliasConf"
   git push origin v0.1.1
   ```

2. **GitHub Releasesから公開**
   - https://github.com/sugipamo/aliasconf/releases/new
   - Tag: v0.1.1を選択
   - Release title: "v0.1.1 - Initial Release"
   - Release notesを記載
   - "Publish release"をクリック

3. **自動デプロイの確認**
   - GitHub Actionsでrelease.ymlワークフローが起動
   - ビルドとPyPIへのアップロードが成功することを確認

### 5. インストール確認

1. **pip installでの確認**
   ```bash
   # 新しい仮想環境で確認
   python -m venv test_install
   source test_install/bin/activate  # Windows: test_install\Scripts\activate
   
   pip install aliasconf
   python -c "import aliasconf; print(aliasconf.__version__)"
   ```

2. **基本動作確認**
   ```python
   from aliasconf import ConfigManager
   
   config = ConfigManager()
   config.load({
       "database": {
           "host": "localhost",
           "port": 5432
       }
   })
   
   # エイリアス設定
   config.set_alias("db_host", "database.host")
   print(config.get("db_host"))  # "localhost"
   ```

## リリースノート案

```markdown
# AliasConf v0.1.1 - Initial Release

We're excited to announce the first public release of AliasConf - a powerful configuration management library with unique alias functionality for Python applications.

## Features

- 🔗 **Powerful Alias System**: Access configuration values with multiple names
- 🌳 **Hierarchical Configuration**: Organize settings in nested structures
- 🔒 **Type Safety**: Built-in type checking and validation
- 📝 **Multiple Formats**: Support for YAML and JSON
- 🚀 **High Performance**: Optimized with caching and indexing
- 🔧 **Zero Dependencies**: No external runtime dependencies

## Installation

```bash
pip install aliasconf
```

## Quick Start

```python
from aliasconf import ConfigManager

# Create and load configuration
config = ConfigManager()
config.load({
    "database": {
        "host": "localhost",
        "port": 5432
    }
})

# Set up aliases
config.set_alias("db_host", "database.host")
config.set_alias("db_port", "database.port")

# Access via alias
print(config.get("db_host"))  # "localhost"
print(config.get("db_port"))  # 5432
```

## Documentation

- GitHub: https://github.com/sugipamo/aliasconf
- Issues: https://github.com/sugipamo/aliasconf/issues

## What's Next

- Environment variable support
- TOML format support
- CLI tools
- Framework integrations

Thank you for trying AliasConf!
```

## 成功基準

- [ ] PyPIでaliasconfパッケージが公開される
- [ ] pip install aliasconfが成功する
- [ ] インポートと基本機能が動作する
- [ ] PyPIページに適切な情報が表示される
- [ ] GitHub Actionsの自動リリースが機能する

## リスクと対策

1. **パッケージ名の重複**
   - 対策: 事前にPyPIで"aliasconf"を検索して確認
   - 代替案: "alias-conf"や"aliasconfig"を検討

2. **初回リリースの失敗**
   - 対策: TestPyPIで事前テスト
   - ローカルでのビルド確認

3. **依存関係の問題**
   - 対策: 本番依存はゼロなので問題なし
   - 開発依存は[dev]エクストラで分離済み

## 次のステップ

1. ドキュメントサイトの公開（GitHub Pages）
2. 環境変数サポートの実装
3. ユーザーフィードバックの収集
4. v0.2.0に向けた機能開発

## 参考リンク

- [PyPI公式ドキュメント](https://packaging.python.org/en/latest/tutorials/packaging-projects/)
- [GitHub Actions PyPI公開](https://packaging.python.org/en/latest/guides/publishing-package-distribution-releases-using-github-actions-ci-cd-workflows/)
- [Twineドキュメント](https://twine.readthedocs.io/en/stable/)