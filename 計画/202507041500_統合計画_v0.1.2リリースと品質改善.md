# 統合計画: v0.1.2リリースと品質改善

## 概要
複数の計画ファイルに分散していた内容を統合し、実際の状況に即した実行可能な計画として整理。

## 現状分析

### 完了済みタスク
- ✅ パフォーマンステスト閾値調整
- ✅ v0.1.1タグ作成
- ✅ GitHub Actionsワークフロー作成
- ✅ mkdocs設定完了

### 未完了・問題のあるタスク
- ❌ 環境変数サポート（テスト15件失敗中）
- ❌ エイリアス経由の環境変数読み込み（1件失敗）
- ❌ PyPIリリース（PYPI_API_TOKEN未設定）
- ❌ GitHub Pages（手動有効化待ち）
- ❌ コード品質（src-checkスコア: 40.3/100）

## 実施計画

### Phase 1: 緊急修正 【1-2日】 🚨

#### 1.1 環境変数インターフェース修正
- **問題**: EnvLoaderのconvert_types引数不一致
- **影響**: test_config_manager_env.pyの15件全て失敗
- **対応**:
  ```python
  # manager.pyのload_from_env()修正
  # EnvLoaderインターフェースの統一
  # テスト全件成功確認
  ```

#### 1.2 エイリアス経由の環境変数読み込み修正
- **問題**: test_load_from_env_with_aliasesの失敗
- **影響**: 1/250テスト失敗
- **対応**: エイリアス解決ロジックの修正

#### 1.3 セキュリティ問題の修正
- **問題**: ハードコードされたシークレット
- **対応**: 環境変数化または削除

### Phase 2: PyPIリリース v0.1.2 【0.5日】 📦

#### 2.1 リリース前準備
- バージョン番号を0.1.2に更新
- CHANGELOGの更新
- 全テスト成功確認（250/250）

#### 2.2 PyPIリリース実施
```bash
# PYPI_API_TOKEN設定
# GitHub Secretsに追加
# リリースワークフロー実行
```

### Phase 3: ドキュメント公開 【0.5日】 📚

#### 3.1 GitHub Pages有効化
- リポジトリ設定でPages有効化
- Source: Deploy from a branch
- Branch: gh-pages

#### 3.2 ドキュメント確認
- https://sugipamo.github.io/aliasconf/ でアクセス確認
- 自動デプロイの動作確認

### Phase 4: 継続的改善 【1-2週間】 🔧

#### 4.1 コード品質改善（優先順位順）
1. **セキュリティ** (現在: F)
   - シークレット管理の改善
   - 入力検証の強化

2. **エラーハンドリング** (現在: F)
   - より詳細なエラーメッセージ
   - 例外処理の改善

3. **アーキテクチャ** (現在: D)
   - 循環依存の解消
   - モジュール構造の改善

4. **テスト** (現在: B)
   - カバレッジ85% → 90%
   - エッジケースの追加

#### 4.2 ドキュメント改善
- 環境変数サポートのドキュメント追加
- APIリファレンスの充実
- 実践的なサンプル追加

## 成功基準

### Phase 1-3（短期）
- [ ] 全250テストが成功
- [ ] PyPI v0.1.2リリース完了
- [ ] GitHub Pagesでドキュメント公開
- [ ] セキュリティスコア: F → C以上

### Phase 4（中期）
- [ ] src-checkスコア: 40.3 → 60以上
- [ ] テストカバレッジ: 85% → 90%
- [ ] PyPIダウンロード数: 100+/月

## タイムライン

```
Day 1-2: Phase 1（緊急修正）
Day 3:   Phase 2（PyPIリリース）+ Phase 3（ドキュメント公開）
Day 4-14: Phase 4（継続的改善）
```

## リスクと対策

### リスク1: 環境変数修正の複雑性
- **対策**: 小さな修正から始めて段階的に改善

### リスク2: PyPIリリース後の問題発覚
- **対策**: v0.1.3として迅速に修正リリース

### リスク3: コード品質改善の工数超過
- **対策**: 優先順位を明確にし、段階的に実施

## 次のアクション

1. **即座に開始**: 環境変数インターフェース修正
2. **並行作業**: セキュリティ問題の調査と修正
3. **完了後**: PyPIリリースv0.1.2の実施

---

**作成日**: 2025年7月4日
**最終更新**: 2025年7月4日
**ステータス**: 実施中