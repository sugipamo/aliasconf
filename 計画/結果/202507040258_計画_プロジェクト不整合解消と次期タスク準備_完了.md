# 計画書: プロジェクト不整合解消と次期タスク準備

**作成日**: 2025年7月4日 02:58  
**作成者**: Claude AI  
**優先度**: 🚨 最高

## 1. 背景

ROADMAP.mdと実際のプロジェクト状態の整合性チェックを実施した結果、以下の不一致が発見されました：

1. **v0.1.1タグ未作成** - ROADMAPでは作成済みと記載されているが実際は存在しない
2. **mkdocs.ymlのURL更新必要** - yourusername → sugipamo への更新が必要
3. **GitHub Pagesワークフロー未作成** - docs.ymlが存在しない
4. **環境変数サポート未実装** - 計画書は作成済みだがコードが未実装

これらの不整合を解消し、次期タスクに向けた準備を行う必要があります。

## 2. 目的

1. プロジェクト状態の不整合を解消
2. PyPI初回リリース実施の準備を完了
3. ドキュメントサイトの公開準備を完了
4. 環境変数サポート実装の開始

## 3. 実施項目

### 3.1 即時対応項目（本日実施）

#### 3.1.1 v0.1.1タグの作成
```bash
# 最新のコミットにタグを作成
git tag -a v0.1.1 -m "Release v0.1.1: Initial PyPI release preparation"
git push origin v0.1.1
```

#### 3.1.2 mkdocs.ymlのURL更新
```yaml
# mkdocs.yml内の以下の項目を更新
site_url: https://github.com/sugipamo/aliasconf
repo_url: https://github.com/sugipamo/aliasconf
```

#### 3.1.3 GitHub Pages用ワークフローの作成
`.github/workflows/docs.yml`を作成し、以下の内容を実装：
- MkDocsのビルド
- GitHub Pagesへの自動デプロイ
- mainブランチへのプッシュ時に自動実行

### 3.2 短期対応項目（1週間以内）

#### 3.2.1 PyPI初回リリース実施
1. PyPIアカウントの作成（ユーザー側で実施）
2. APIトークンの生成とGitHub Secretsへの登録
3. テストPyPIでの動作確認
4. 本番PyPIへのリリース実行

#### 3.2.2 ドキュメントサイト公開
1. GitHub Pagesの有効化
2. ドキュメントサイトの初回ビルドとデプロイ
3. README.mdからのリンク追加
4. ドキュメントの内容確認と改善

### 3.3 中期対応項目（2週間以内）

#### 3.3.1 環境変数サポートの実装
計画書（202507040158_計画_環境変数サポート実装.md）に基づいて実装：

1. **基本的な環境変数読み込み機能**
   - `src/aliasconf/loaders/env_loader.py`の作成
   - 環境変数からの設定読み込み実装
   - プレフィックス機能の実装（例：`ALIASCONF_`）

2. **.envファイルサポート**
   - python-dotenvの依存関係追加
   - .envファイル読み込み機能の実装
   - 複数の.envファイルサポート

3. **ConfigManagerとの統合**
   - 環境変数ローダーの統合
   - マージ戦略の実装
   - テストの作成

## 4. 優先順位

1. **最優先**: v0.1.1タグ作成、mkdocs.yml更新、docs.yml作成
2. **高**: PyPI初回リリース実施
3. **中**: ドキュメントサイト公開
4. **中**: 環境変数サポート実装

## 5. 成功基準

- [ ] v0.1.1タグが正常に作成され、GitHubに反映される
- [ ] mkdocs.ymlのURLが正しく更新される
- [ ] GitHub Pagesワークフローが正常に動作する
- [ ] PyPIへの初回リリースが成功する
- [ ] ドキュメントサイトが公開される
- [ ] 環境変数サポートの基本機能が実装される

## 6. リスクと対策

### リスク1: PyPIリリース時の問題
- **対策**: テストPyPIで十分な検証を行う
- **対策**: リリース手順書（PYPI_RELEASE_STEPS.md）に従って慎重に実施

### リスク2: GitHub Pagesデプロイ失敗
- **対策**: ローカルでMkDocsビルドを事前検証
- **対策**: ワークフローの段階的なテスト実施

### リスク3: 環境変数サポートの互換性問題
- **対策**: 既存のAPIを変更しない形で実装
- **対策**: 十分なテストケースの作成

## 7. 次のステップ

1. 本計画書の承認
2. v0.1.1タグの作成実施
3. mkdocs.yml更新のPR作成
4. docs.ymlワークフローの実装とテスト
5. PyPIリリース準備の最終確認

## 8. 備考

- 各タスクの実施前に、必ずgit statusで現在の状態を確認すること
- 重要な変更は個別のコミットで管理し、適切なコミットメッセージを付けること
- 不明な点があれば、実施前に確認を取ること

---

**ステータス**: 計画中  
**次回レビュー**: 2025年7月5日